# les: less or ls

_ls() {
  if (type lsd &> /dev/null); then
    lsd -Fh "$@"
  else
    ls -FH --color=tty "$@"
  fi
}

if [[ $# == 0 ]]; then
  _ls
elif [[ -f $1 ]]; then
  (type bat &> /dev/null) && bat -p "$@" || cat "$@"
else
  _ls "$@"
fi
